{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>You Said YES ðŸ’–</title>
    <link rel="stylesheet" href="{% static 'confession/style.css' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>

<div class="meow">

    <div class="card" >
    <h1>YOU SAID YES ðŸ˜­ðŸ’–</h1>

    <p>
        Okay wowâ€¦ you just made my day,
        my week!!!!
    </p>

    <p>
        I promise lots of smiles, laughs,
        and memories together âœ¨
    </p>

    <h2>ðŸŒ¸ðŸŒ¸ðŸŒ¸</h2>
</div>
<div class="card-group">

    <div class="note-card">
    <div class="note-title">ðŸ¥¹ This means a lot</div>
    <button class="open-btn">Open this note ðŸ’Œ</button>
    <div class="note-content">
        You saying yes genuinely made my day.
    </div>
</div>

<div class="note-card">
    <div class="note-title">ðŸ’– A promise</div>
    <button class="open-btn">Open this note ðŸ’Œ</button>
    <div class="note-content">
        Iâ€™ll always try to make you feel appreciated.
    </div>
</div>

<div class="note-card">
    <div class="note-title">â˜• First idea</div>
    <button class="open-btn">Open this note ðŸ’Œ</button>
    <div class="note-content">
        Coffee, long walks, and talking about random things?
    </div>
</div>

<div class="note-card">
    <div class="note-title">ðŸŒ… Looking ahead</div>
    <button class="open-btn">Open this note ðŸ’Œ</button>
    <div class="note-content">
        Iâ€™m excited for what weâ€™ll discover together.
    </div>
</div>

<div class="note-card">
    <div class="note-title">ðŸ’« Small excitement</div>
    <button class="open-btn">Open this note ðŸ’Œ</button>
    <div class="note-content">
        This feels like the start of something nice.
    </div>
</div>

<div class="note-card">
    <div class="note-title">ðŸ«¶ Just us</div>
    <button class="open-btn">Open this note ðŸ’Œ</button>
    <div class="note-content">
        I canâ€™t wait to spend more time with you.
    </div>
</div>

<div class="note-card">
    <div class="note-title">ðŸŒ¸ Soft thought</div>
    <button class="open-btn">Open this note ðŸ’Œ</button>
    <div class="note-content">
        You already make things feel brighter.
    </div>
</div>

<div class="note-card">
    <div class="note-title">âœ¨ Thank you</div>
    <button class="open-btn">Open this note ðŸ’Œ</button>
    <div class="note-content">
        For trusting me with this moment.
    </div>
</div>

<div class="note-card">
    <div class="note-title">ðŸ’Œ A little truth</div>
    <button class="open-btn">Open this note ðŸ’Œ</button>
    <div class="note-content">
        Iâ€™m really happy youâ€™re here.
    </div>
</div>

<div class="note-card">
    <div class="note-title">ðŸŒˆ Ending note</div>
    <button class="open-btn">Open this note ðŸ’Œ</button>
    <div class="note-content">
        This is just the beginning ðŸ’–
    </div>
</div>

</div>
</div>


<script>
function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerText = "ðŸ’—";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = (Math.random() * 3 + 4) + "s";
    document.body.appendChild(heart);

    setTimeout(() => heart.remove(), 6000);
}

setInterval(createHeart, 400);
</script>
<script>
function launchConfetti() {
    const confettiCount = 180;

    for (let i = 0; i < confettiCount; i++) {
        const confetti = document.createElement("div");
        confetti.classList.add("confetti");

        // Random horizontal position
        confetti.style.left = Math.random() * 100 + "vw";

        // Start from center vertically
        confetti.style.top = "50%";

        // Soft romantic colors
        confetti.style.backgroundColor = 
            `hsl(${Math.random() * 360}, 85%, 70%)`;

        // Random fall duration
        const duration = Math.random() * 2 + 3;
        confetti.style.animationDuration = duration + "s";

        // Random size variation
        const scale = Math.random() * 0.6 + 0.7;
        confetti.style.transform = 
            `translateX(-50%) scale(${scale}) rotate(${Math.random() * 360}deg)`;

        document.body.appendChild(confetti);

        // Cleanup
        setTimeout(() => {
            confetti.remove();
        }, duration * 1000);
    }
}

// Fire confetti when page loads
launchConfetti();
</script>
{% load static %}

<audio id="confettiSound">
    <source src="{% static 'confession/confetti.mp3' %}" type="audio/mpeg">
</audio>

<script>
function launchConfetti() {
    const confettiCount = 160;

    // Confetti sound (uses same unlocked audio context)
    const popSound = new Audio("{% static 'confession/confetti.mp3' %}");
    popSound.volume = 0.6;
    popSound.play().catch(() => {});

    for (let i = 0; i < confettiCount; i++) {
        const confetti = document.createElement("div");
        confetti.className = "confetti";

        confetti.style.left = Math.random() * 100 + "vw";
        confetti.style.backgroundColor =
            `hsl(${Math.random() * 360}, 85%, 70%)`;

        const duration = Math.random() * 2 + 3;
        confetti.style.animationDuration = duration + "s";

        const drift = Math.random() * 120 - 60;
        confetti.style.transform =
            `translateX(${drift}px) rotate(${Math.random() * 360}deg)`;

        document.body.appendChild(confetti);

        setTimeout(() => confetti.remove(), duration * 1000);
    }
}

window.addEventListener("load", launchConfetti);
</script>



{% load static %}

<div id="music-player">
    <button id="music-btn">ðŸ”ˆ</button>
    <audio id="bg-music" loop>
        <source src="{% static 'confession/soft-music.mp3' %}" type="audio/mpeg">
    </audio>
</div>
<script>
const music = document.getElementById("bg-music");
const btn = document.getElementById("music-btn");

let isPlaying = false;

btn.addEventListener("click", () => {
    if (!isPlaying) {
        music.volume = 0.4;
        music.play();
        btn.innerText = "ðŸ”Š";
        isPlaying = true;
    } else {
        music.pause();
        btn.innerText = "ðŸ”ˆ";
        isPlaying = false;
    }
});
</script>
<script>
const noteSound = document.getElementById("noteSound");

document.querySelectorAll(".open-btn").forEach(button => {
    button.addEventListener("click", () => {
        const card = button.closest(".note-card");
        const isOpening = !card.classList.contains("open");

        card.classList.toggle("open");

        button.textContent = card.classList.contains("open")
            ? "Close note ðŸ’Œ"
            : "Open this note ðŸ’Œ";

        if (isOpening) {
            noteSound.currentTime = 0;
            noteSound.volume = 0.4; // soft & romantic
            noteSound.play().catch(() => {});
        }
    });
});
</script>

<audio id="noteSound" src="{% static 'sounds/note-open.mp3' %}" preload="auto"></audio>


</body>
</html>
